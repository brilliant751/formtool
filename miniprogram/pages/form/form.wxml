<view class="container">
    <view class="form-title">表单填写工具</view>
    <view class="form-section">
        <!-- 船号 -->
        <view class="form-item">
            <view class="form-label">
                <text class="required">*</text>
                <text>船号</text>
            </view>
            <input class="form-input" placeholder="请输入船号" value="{{formData.number}}" bindinput="onInputChange" data-field="number"/>
            <view class="error-text" wx:if="{{errors.number}}">{{errors.number}}</view>
        </view>
        <!-- 时间 -->
        <view class="form-item">
            <view class="form-label">
                <text class="required">*</text>
                <text>时间</text>
            </view>
            <picker mode="time" class="form-picker" bindchange="onTimeChange" data-field="time">
                <view class="picker-text">{{formData.time || '请选择时间'}}</view>
            </picker>
            <view class="error-text" wx:if="{{errors.time}}">{{errors.time}}</view>
        </view>
        <!-- 地点 -->
        <view class="form-item">
            <view class="form-label">
                <text class="required">*</text>
                <text>地点</text>
            </view>
            <picker class="form-picker" range="{{locationList}}" bindchange="onLocationChange" data-field="location">
                <view class="picker-text">{{formData.location || '请选择地点'}}</view>
            </picker>
            <view class="error-text" wx:if="{{errors.location}}">{{errors.location}}</view>
        </view>
        <!-- 类型 -->
        <view class="form-item">
            <view class="form-label">
                <text class="required">*</text>
                <text>类型</text>
            </view>
            <picker class="form-picker" range="{{typeList}}" bindchange="onTypeChange" data-field="type">
                <view class="picker-text">{{formData.type || '请选择类型'}}</view>
            </picker>
            <view class="error-text" wx:if="{{errors.type}}">{{errors.type}}</view>
        </view>
        <!-- 管件号 -->
        <view class="form-item">
            <view class="form-label">
                <text class="required">*</text>
                <text>管件号</text>
            </view>
            <input class="form-input" placeholder="请输入管件号" value="{{formData.pipeNumber}}" bindinput="onInputChange" data-field="pipeNumber"/>
            <view class="error-text" wx:if="{{errors.pipeNumber}}">{{errors.pipeNumber}}</view>
        </view>
        <!-- 图片 -->
        <view class="form-item">
            <view class="form-label">
                <text>图片</text>
            </view>
            <view class="image-upload-container">
                <view class="image-preview" wx:if="{{formData.img}}">
                    <image src="{{formData.img}}" mode="aspectFill" class="preview-image"></image>
                    <button class="delete-icon" bind:tap="onDeleteImage">×</button>
                </view>
                <button class="upload-btn" wx:if="{{!formData.img}}" bind:tap="onUploadImage">
                    <text class="upload-icon">📷</text>
                    <text class="upload-text">上传图片</text>
                </button>
            </view>
        </view>
        <!-- 按钮组 -->
        <view class="button-group">
            <button class="submit-btn" type="primary" bind:tap="onSubmit">
                提交
            </button>
            <button class="reset-btn" bind:tap="onReset">重置</button>
        </view>
    </view>
</view>